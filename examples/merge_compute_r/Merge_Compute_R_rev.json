{
  "id": "program-118",
  "sourceFileName": "",
  "sourceLanguage": "r",
  "scriptMD5": "dd4516b18ff89fed1b945d8c8a7368c8",
  "scriptSHA1": "72ed0b42184b7d823c65e93aa3588068dcbb5907",
  "sourceFileLastUpdate": "2020-06-21T17:42:33+00:00",
  "sourceFileSize": 486,
  "lineCount": 15,
  "commandCount": 9,
  "parser": "r-to-sdtl",
  "parserVersion": "0.9 Development",
  "modelVersion": "0.9 Development",
  "modelCreatedTime": "2020-06-21T17:42:33+00:00",
  "commands": [
    {
      "$type": "Comment",
      "command": "comment",
      "sourceInformation": {
        "sourceStopIndex": 82,
        "originalSourceText": "#  This example merges Deposit amount and an interest Rate from a different files"
      },
      "commentText": "This example merges Deposit amount and an interest Rate from a different files"
    },
    {
      "$type": "Comment",
      "command": "comment",
      "sourceInformation": {
        "lineNumberStart": 1,
        "sourceStartIndex": 83,
        "sourceStopIndex": 121,
        "originalSourceText": "#  It computes the amount of Interest"
      },
      "commentText": "It computes the amount of Interest"
    },
    {
      "$type": "NoTransformOp",
      "command": "noTransformOp",
      "sourceInformation": {
        "lineNumberStart": 3,
        "lineNumberEnd": 3,
        "sourceStartIndex": 124,
        "sourceStopIndex": 197,
        "originalSourceText": "setwd(\"~/ICPSR/Project development/metadata_capture/Prov/Prov_R_examples\")"
      }
    },
    {
      "$type": "NoTransformOp",
      "command": "noTransformOp",
      "sourceInformation": {
        "lineNumberStart": 4,
        "lineNumberEnd": 4,
        "sourceStartIndex": 200,
        "sourceStopIndex": 217,
        "originalSourceText": "library(tidyverse)"
      }
    },
    {
      "$type": "Load",
      "command": "Load",
      "sourceInformation": {
        "lineNumberStart": 5,
        "lineNumberEnd": 5,
        "sourceStartIndex": 236,
        "sourceStopIndex": 263,
        "originalSourceText": "read_csv(\"Deposit_only.csv\")"
      },
      "fileName": "Deposit_only.csv",
	  "producesDataframe": [{"dataframeName": "Deposit_only"} ]
    },
    {
      "$type": "Load",
      "command": "Load",
      "sourceInformation": {
        "lineNumberStart": 6,
        "lineNumberEnd": 6,
        "sourceStartIndex": 279,
        "sourceStopIndex": 303,
        "originalSourceText": "read_csv(\"Rate_only.csv\")"
      },
      "fileName": "Rate_only.csv",
	  "producesDataframe": [{"dataframeName": "Rate_only" } ]
    },
    {
      "$type": "MergeDatasets",
      "command": "MergeDatasets",
      "sourceInformation": {
        "lineNumberStart": 8,
        "lineNumberEnd": 8,
        "sourceStartIndex": 324,
        "sourceStopIndex": 370,
        "originalSourceText": "full_join(Deposit_only, Rate_only, by=\"AcctNo\")"
      },
	  "mergeByVariables": 
				{"$type": "VariableSymbolExpression",
				   "variableName": "AcctNo" },
	  "consumesDataframe": [
					{"dataframeName": "Deposit_only"},
					{"dataframeName": "Rate_only" }
					],
	  "producesDataframe": ["Accounts_all"],
	  "mergeFiles": [
				{"fileName":"Deposit_only",
					"mergeType":"Cartesian",
					"update":"Master",
					"newRow":"TRUE" },
				{"fileName":"Rate_only",
					"mergeType":"Cartesian",
					"update":"FillNew",
					"newRow":"TRUE" }
				]
    },
    {
      "$type": "Compute",
      "command": "compute",
      "sourceInformation": {
        "lineNumberStart": 10,
        "lineNumberEnd": 10,
        "sourceStartIndex": 391,
        "sourceStopIndex": 437,
        "originalSourceText": "mutate(Deposits_all, Interest = Deposit * Rate)"
      },
      "consumesDataframe": [
        {"dataframeName": "Deposits_all" }
      ],
      "variable": {
        "$type": "VariableSymbolExpression",
        "variableName": "Interest"
      },
      "expression": {
        "$type": "FunctionCallExpression",
        "function": "multiplication",
        "isSdtlName": true,
        "arguments": [
          {
            "$type": "FunctionArgument",
            "argumentValue": {
              "$type": "VariableSymbolExpression",
              "variableName": "Deposit"
            }
          },
          {
            "$type": "FunctionArgument",
            "argumentValue": {
              "$type": "VariableSymbolExpression",
              "variableName": "Rate"
            }
          }
        ]
      }
    },
    {
      "$type": "Save",
      "command": "Save",
      "sourceInformation": {
        "lineNumberStart": 13,
        "lineNumberEnd": 13,
        "sourceStartIndex": 444,
        "sourceStopIndex": 483,
        "originalSourceText": "write.csv(Accounts_all, 'account_2.csv')"
      },
      "fileName": "'accounts.sav'",
	  "consumesDataframe": [{"dataframeName": "Accounts_all" } ]
    }
  ]
}